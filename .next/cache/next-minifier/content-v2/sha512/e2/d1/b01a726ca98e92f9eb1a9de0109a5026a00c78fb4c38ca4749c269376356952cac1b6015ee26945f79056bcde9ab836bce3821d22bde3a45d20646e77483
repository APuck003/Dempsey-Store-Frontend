{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{\"2FTe\":function(e,t,n){\"use strict\";var r=n(\"vOnD\").b.button.withConfig({displayName:\"SickButton\",componentId:\"l04z44-0\"})([\"background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}\"]);t.a=r},FvE7:function(e,t,n){\"use strict\";n.r(t);var r=n(\"q1tI\"),i=n.n(r),a=n(\"eADE\");function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var u=n(\"1OyB\"),s=n(\"vuIU\"),c=n(\"JX7q\"),l=n(\"Ji7U\"),d=n(\"md7G\"),f=n(\"foSv\"),p=n(\"rePB\"),m=n(\"h4VS\"),b=n(\"4KRT\"),h=n(\"VUBQ\"),g=n(\"lTCR\"),v=n.n(g),y=n(\"vOnD\").b.table.withConfig({displayName:\"Table\",componentId:\"sc-1jvbtk5-0\"})([\"border-spacing:0;width:100%;border:1px solid \",\";thead{font-size:10px;}td,th{border-bottom:1px solid \",\";border-right:1px solid \",\";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}label{display:block;padding:10px 5px;}}tr{&:hover{background:\",\";}}\"],(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite})),w=n(\"2FTe\"),O=i.a.createElement;function j(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var i=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}function k(){var e=Object(m.a)([\"\\n  query {\\n    users {\\n      id\\n      name\\n      email\\n      permissions\\n    }\\n  }\\n\"]);return k=function(){return e},e}function E(){var e=Object(m.a)([\"\\n  mutation updatePermissions($permissions: [Permission], $userId: ID!) {\\n    updatePermissions(permissions: $permissions, userId: $userId) {\\n      id\\n      permissions\\n      name\\n      email\\n    }\\n  }\\n\"]);return E=function(){return e},e}var S=[\"ADMIN\",\"USER\",\"ITEMCREATE\",\"ITEMUPDATE\",\"ITEMDELETE\",\"PERMISSIONUPDATE\"],x=v()(E()),I=v()(k()),T=function(e){Object(l.a)(n,e);var t=j(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Object(p.a)(Object(c.a)(e),\"state\",{permissions:e.props.user.permissions}),Object(p.a)(Object(c.a)(e),\"handlePermissionChange\",(function(t){var n=t.target,r=o(e.state.permissions);n.checked?r.push(n.value):r=r.filter((function(e){return e!==n.value})),e.setState({permissions:r})})),e}return Object(s.a)(n,[{key:\"render\",value:function(){var e=this,t=this.props.user;return O(b.c,{mutation:x,variables:{permissions:this.state.permissions,userId:this.props.user.id}},(function(n,r){var a=r.loading,o=r.error;return O(i.a.Fragment,null,o&&O(\"tr\",null,O(\"td\",{colspan:\"8\"},O(h.a,{error:o}))),O(\"tr\",null,O(\"td\",null,t.name),O(\"td\",null,t.email),S.map((function(n){return O(\"td\",{key:n},O(\"label\",{htmlFor:\"\".concat(t.id,\"-permission-\").concat(n)},O(\"input\",{id:\"\".concat(t.id,\"-permission-\").concat(n),type:\"checkbox\",checked:e.state.permissions.includes(n),value:n,onChange:e.handlePermissionChange})))})),O(\"td\",null,O(w.a,{type:\"button\",disabled:a,onClick:n},\"Updat\",a?\"ing\":\"e\"))))}))}}]),n}(i.a.Component),P=function(e){return O(b.d,{query:I},(function(e){var t=e.data,n=(e.loading,e.error);return O(\"div\",null,O(h.a,{error:n}),O(\"div\",null,O(\"h2\",null,\"Manage Permissions\"),O(y,null,O(\"thead\",null,O(\"tr\",null,O(\"th\",null,\"Name\"),O(\"th\",null,\"Email\"),S.map((function(e){return O(\"th\",{key:e},e)})),O(\"th\",null,\"\\ud83d\\udc47\\ud83c\\udffb\"))),O(\"tbody\",null,t.users&&t.users.map((function(e){return O(T,{user:e,key:e.id})}))))))}))},R=i.a.createElement;t.default=function(e){return R(\"div\",null,R(a.a,null,R(P,null)))}},VUBQ:function(e,t,n){\"use strict\";var r=n(\"vOnD\"),i=n(\"q1tI\"),a=n.n(i).a.createElement,o=r.b.div.withConfig({displayName:\"ErrorMessage__ErrorStyles\",componentId:\"sc-11u5fgj-0\"})([\"padding:2rem;background:white;margin:2rem 0;border:1px solid rgba(0,0,0,0.05);border-left:5px solid red;p{margin:0;font-weight:100;}strong{margin-right:1rem;}\"]),u=function(e){var t=e.error;return t&&t.message?t.networkError&&t.networkError.result&&t.networkError.result.errors.length?t.networkError.result.errors.map((function(e,t){return a(o,{key:t},a(\"p\",{\"data-test\":\"graphql-error\"},a(\"strong\",null,\"Shoot!\"),e.message.replace(\"GraphQL error: \",\"\")))})):a(o,null,a(\"p\",{\"data-test\":\"graphql-error\"},a(\"strong\",null,\"Shoot!\"),t.message.replace(\"GraphQL error: \",\"\"))):null};u.defaultProps={error:{}},t.a=u},VliS:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return f}));var r=n(\"wx14\"),i=n(\"h4VS\"),a=n(\"q1tI\"),o=n.n(a),u=n(\"4KRT\"),s=n(\"lTCR\"),c=n.n(s),l=o.a.createElement;function d(){var e=Object(i.a)([\"\\n  query {\\n    me {\\n      id\\n      email\\n      name\\n      permissions\\n      orders {\\n        id\\n      }\\n      cart {\\n        id\\n        quantity\\n        item {\\n          id\\n          price\\n          image\\n          title\\n          description\\n        }\\n      }\\n    }\\n  }\\n\"]);return d=function(){return e},e}var f=c()(d());t.b=function(e){return l(u.d,Object(r.a)({},e,{query:f}),(function(t){return console.log(t)||e.children(t)}))}},eADE:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),i=n.n(r),a=n(\"4KRT\"),o=n(\"VliS\"),u=n(\"km3s\"),s=i.a.createElement;t.a=function(e){return s(a.d,{query:o.a},(function(t){var n=t.data;return t.loading?s(\"p\",null,\"Loading...\"):n.me?e.children:s(\"div\",null,s(\"p\",null,\"Please sign in before continuing\"),s(u.a,null))}))}},km3s:function(e,t,n){\"use strict\";var r=n(\"o0o1\"),i=n.n(r),a=n(\"1OyB\"),o=n(\"vuIU\"),u=n(\"JX7q\"),s=n(\"Ji7U\"),c=n(\"md7G\"),l=n(\"foSv\"),d=n(\"rePB\"),f=n(\"h4VS\"),p=n(\"q1tI\"),m=n.n(p),b=n(\"4KRT\"),h=n(\"lTCR\"),g=n.n(h),v=n(\"mzXK\"),y=n(\"VUBQ\"),w=n(\"VliS\"),O=m.a.createElement;function j(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}function k(){var e=Object(f.a)([\"\\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\\n    signin(email: $email, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);return k=function(){return e},e}var E=g()(k()),S=function(e){Object(s.a)(n,e);var t=j(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(d.a)(Object(u.a)(e),\"state\",{email:\"\",name:\"\",password:\"\"}),Object(d.a)(Object(u.a)(e),\"saveToState\",(function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))})),e}return Object(o.a)(n,[{key:\"render\",value:function(){var e=this;return O(b.c,{mutation:E,variables:this.state,refetchQueries:[{query:w.a}]},(function(t,n){var r=n.error,a=n.loading;return O(v.a,{method:\"post\",onSubmit:function(n){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.next=3,i.a.awrap(t());case 3:e.setState({name:\"\",email:\"\",password:\"\"});case 4:case\"end\":return r.stop()}}),null,null,null,Promise)}},O(\"fieldset\",{disabled:a,\"aria-busy\":a},O(\"h2\",null,\"Sign into your Account!\"),O(y.a,{error:r}),O(\"label\",{htmlFor:\"email\"},O(\"input\",{type:\"text\",name:\"email\",placeholder:\"Email\",value:e.state.email,onChange:e.saveToState})),O(\"label\",{htmlFor:\"password\"},O(\"input\",{type:\"text\",name:\"password\",placeholder:\"Password\",value:e.state.password,onChange:e.saveToState})),O(\"button\",{type:\"submit\"},\"Sign In!\")))}))}}]),n}(p.Component);t.a=S},mzXK:function(e,t,n){\"use strict\";var r=n(\"vOnD\"),i=Object(r.d)([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]),a=r.b.form.withConfig({displayName:\"Form\",componentId:\"sc-1xszr8q-0\"})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:\",\";}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient(to right,#ff3019 0%,#e2b04a 50%,#ff3019 100%);}&[aria-busy='true']::before{background-size:50% auto;animation:\",\" 0.5s linear infinite;}}\"],(function(e){return e.theme.red}),i);t.a=a},rePB:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))},uE7f:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/permissionsPage\",function(){return n(\"FvE7\")}])},wx14:function(e,t,n){\"use strict\";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,\"a\",(function(){return r}))}},[[\"uE7f\",0,1,3,2]]]);","extractedComments":[]}