(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{RNiq:function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),i=n.n(r),a=n("1OyB"),o=n("vuIU"),c=n("Ji7U"),u=n("md7G"),l=n("foSv"),s=n("h4VS"),d=n("4KRT"),f=n("lTCR"),p=n.n(f),m=n("vOnD"),g=n("YFqc"),h=n.n(g),y=m.b.h3.withConfig({displayName:"Title",componentId:"sc-16nq74k-0"})(["margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:",";display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}"],(function(t){return t.theme.red})),b=m.b.div.withConfig({displayName:"ItemStyles__Item",componentId:"sc-16pk14u-0"})(["background:white;border:1px solid ",";box-shadow:",";position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid ",";grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:",";& > *{background:white;border:0;font-size:1rem;padding:1rem;}}"],(function(t){return t.theme.offWhite}),(function(t){return t.theme.bs}),(function(t){return t.theme.lightgrey}),(function(t){return t.theme.lightgrey})),v=m.b.span.withConfig({displayName:"PriceTag",componentId:"nwbk6t-0"})(["background:",";transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;"],(function(t){return t.theme.red})),O=n("2y/O"),x=n("JX7q"),j=n("rePB"),w=i.a.createElement;function I(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function k(){var t=Object(s.a)(["\n  mutation DELETE_ITEM_MUTATION($id: ID!) {\n    deleteItem(id: $id) {\n      id\n    }\n  }\n"]);return k=function(){return t},t}var R=p()(k()),C=function(t){Object(c.a)(n,t);var e=I(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(j.a)(Object(x.a)(t),"update",(function(t,e){var n=t.readQuery({query:G});n.items=n.items.filter((function(t){return t.id!==e.data.deleteItem.id})),t.writeQuery({query:G,data:n})})),t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return w(d.c,{mutation:R,variables:{id:this.props.id},update:this.update},(function(e,n){n.error;return w("button",{onClick:function(){confirm("Are you sure you want to delete this?")&&e().catch((function(t){alert(t.message)}))}},t.props.children)}))}}]),n}(r.Component),q=n("VliS"),E=i.a.createElement;function N(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function _(){var t=Object(s.a)(["\n  mutation addToCart($id: ID!) {\n    addToCart(id: $id) {\n      id\n      quantity\n    }\n  }\n"]);return _=function(){return t},t}var T=p()(_()),D=function(t){Object(c.a)(n,t);var e=N(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.id;return E(d.c,{mutation:T,variables:{id:t},refetchQueries:[{query:q.a}]},(function(t,e){var n=e.loading;return E("button",{disabled:n,onClick:t},"Add",n&&"ing"," To Cart \ud83d\uded2")}))}}]),n}(i.a.Component),P=i.a.createElement;function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var L=function(t){Object(c.a)(n,t);var e=S(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.item;return P(b,null,t.image&&P("img",{src:t.image,alt:t.title}),P(y,null,P(h.a,{href:{pathname:"/item",query:{id:t.id}}},P("a",null,t.title))),P(v,null,Object(O.a)(t.price)),P("p",null,t.description),P("div",{className:"buttonList"},P(h.a,{href:{pathname:"update",query:{id:t.id}}},P("a",null,"Edit \u270f\ufe0f")),P(D,{id:t.id}),P(C,{id:t.id},"Delete This Item")))}}]),n}(r.Component),$=n("8Kt/"),A=n.n($),Q=m.b.div.withConfig({displayName:"PaginationStyles",componentId:"aduuar-0"})(["text-align:center;display:inline-grid;grid-template-columns:repeat(4,auto);align-items:stretch;justify-content:center;align-content:center;margin:2rem 0;border:1px solid ",";border-radius:10px;& > *{margin:0;padding:15px 30px;border-right:1px solid ",";&:last-child{border-right:0;}}a[aria-disabled='true']{color:grey;pointer-events:none;}"],(function(t){return t.theme.lightgrey}),(function(t){return t.theme.lightgrey})),U=n("obyI"),z=i.a.createElement;function J(){var t=Object(s.a)(["\n  query PAGINATION_QUERY {\n    itemsConnection {\n      aggregate {\n        count\n      }\n    }\n  }\n"]);return J=function(){return t},t}var M=p()(J()),B=function(t){return z(d.d,{query:M},(function(e){var n=e.data,r=e.loading;e.error;if(r)return z("p",null,"Loading...");var i=n.itemsConnection.aggregate.count,a=Math.ceil(i/U.a),o=t.page;return z(Q,{"data-test":"pagination"},z(A.a,null,z("title",null,"Sick Fits! \u2014 Page ",o," of ",a)),z(h.a,{prefetch:!0,href:{pathname:"items",query:{page:o-1}}},z("a",{className:"prev","aria-disabled":o<=1},"\u2190 Prev")),z("p",null,"Page ",t.page," of",z("span",{className:"totalPages"},a),"!"),z("p",null,i," Items Total"),z(h.a,{prefetch:!0,href:{pathname:"items",query:{page:o+1}}},z("a",{className:"next","aria-disabled":o>=a},"Next \u2192")))}))},F=i.a.createElement;function X(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(l.a)(t);if(e){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}function Y(){var t=Object(s.a)(["\nquery ALL_ITEMS_QUERY($skip: Int = 0, $first: Int = ",") {\n  items(first: $first, skip: $skip, orderBy: price_DESC) {\n    id\n    title\n    price\n    description\n    image\n    largeImage\n  }\n}\n"]);return Y=function(){return t},t}var G=p()(Y(),U.a),K=m.b.div.withConfig({displayName:"Items__Center",componentId:"tikday-0"})(["text-align:center;"]),V=m.b.div.withConfig({displayName:"Items__ItemsList",componentId:"tikday-1"})(["display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;max-width:",";margin:0 auto;"],(function(t){return t.theme.maxWidth})),W=function(t){Object(c.a)(n,t);var e=X(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return F(K,null,F(B,{page:this.props.page}),F(d.d,{query:G,variables:{skip:this.props.page*U.a-U.a}},(function(t){var e=t.data,n=t.error;return t.loading?F("p",null,"loading..."):n?F("p",null,"Error: ",n.message):F(V,null,e.items.map((function(t){return F(L,{item:t,key:t.id})}))," ")})),F(B,{page:this.props.page}))}}]),n}(r.Component),H=i.a.createElement;e.default=function(t){return H("div",null,H(W,{page:parseFloat(t.query.page)||1}))}},"m0L+":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["m0L+",0,1,3,2,4,5]]]);